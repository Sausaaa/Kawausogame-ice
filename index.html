<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>„Ç´„ÉØ„Ç¶„ÇΩÊªëËµ∞„Ç≤„Éº„É†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      text-align: center;
      font-family: sans-serif;
      background: #eaf6ff;
    }
    canvas {
      background: linear-gradient(#bfe9ff 60%, #7dd87d 60%);
      border-radius: 12px;
    }
    button {
      font-size: 18px;
      padding: 10px 20px;
      margin: 10px;
    }
  </style>
</head>
<body>

<h2>ü¶¶ „Ç´„ÉØ„Ç¶„ÇΩÊªëËµ∞„Ç≤„Éº„É†</h2>
<button id="startBtn">ÊªëËµ∞„Çπ„Çø„Éº„Éà</button>
<br>
<small>ÁîªÈù¢„Çø„ÉÉ„Éó„Åß„ÇÇ„Çπ„Çø„Éº„Éà„Åß„Åç„Åæ„Åô</small>
<br><br>

<canvas id="cv" width="1000" height="320"></canvas>

<script>
const cv = document.getElementById("cv");
const ctx = cv.getContext("2d");

const GROUND_Y = 240;

let state = "ready";
let otter = { x: 150, y: 180, vx: 0 };

function drawOtter(x, y) {
  // ‰Ωì
  ctx.fillStyle = "#8b5a2b";
  ctx.beginPath();
  ctx.ellipse(x, y, 28, 18, 0, 0, Math.PI * 2);
  ctx.fill();

  // È°î
  ctx.fillStyle = "#a97142";
  ctx.beginPath();
  ctx.arc(x + 22, y - 10, 14, 0, Math.PI * 2);
  ctx.fill();

  // ÁõÆ
  ctx.fillStyle = "#000";
  ctx.beginPath();
  ctx.arc(x + 26, y - 12, 2.5, 0, Math.PI * 2);
  ctx.fill();

  // „Åó„Å£„ÅΩ
  ctx.strokeStyle = "#6b4226";
  ctx.lineWidth = 6;
  ctx.beginPath();
  ctx.moveTo(x - 28, y);
  ctx.lineTo(x - 48, y + 8);
  ctx.stroke();
}

function draw() {
  ctx.clearRect(0, 0, cv.width, cv.height);

  // Âú∞Èù¢
  ctx.fillStyle = "#7dd87d";
  ctx.fillRect(0, GROUND_Y, cv.width, cv.height - GROUND_Y);

  drawOtter(otter.x, otter.y);
}

function update() {
  if (state === "playing") {
    otter.vx += 0.03;
    otter.x += otter.vx;
    if (otter.y < GROUND_Y - 18) {
      otter.y += 0.6;
    }
  }
}

function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}

function startGame() {
  state = "playing";
  otter.x = 150;
  otter.y = 180;
  otter.vx = 0;
}

document.getElementById("startBtn").addEventListener("click", startGame);
cv.addEventListener("touchstart", startGame);

loop();
</script>

</body>
</html>
