<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ã‚«ãƒ¯ã‚¦ã‚½æ»‘èµ°ã‚²ãƒ¼ãƒ </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      text-align: center;
      font-family: sans-serif;
      background: #eaf6ff;
    }
    canvas {
      background: #bfe9ff;
      border-radius: 12px;
    }
    button {
      font-size: 18px;
      padding: 10px 20px;
      margin: 10px;
    }
  </style>
</head>
<body>

  <h2>ğŸ¦¦ ã‚«ãƒ¯ã‚¦ã‚½æ»‘èµ°ã‚²ãƒ¼ãƒ </h2>

  <button id="startBtn">æ»‘èµ°ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
  <br>
  <small id="info">ï¼ˆã‚ã¨10å›ãƒ—ãƒ¬ã‚¤ã§ãã¾ã™ï¼‰</small>

  <br><br>

  <canvas id="cv" width="1000" height="320"></canvas>

  <script>
    // ===== Canvaså–å¾—ï¼ˆâ† ã“ã‚ŒãŒä¸€ç•ªé‡è¦ï¼‰ =====
    const cv = document.getElementById("cv");
    const ctx = cv.getContext("2d");

    // ===== å®šæ•° =====
    const SEA_X = 660;
    const GROUND_Y = 240;
    const WATER_SURFACE = GROUND_Y + 15;

    // ===== çŠ¶æ…‹ =====
    let slope = 0.4;
    let otter = { x: 150, y: 100, vx: 0, swimSpeed: 0 };
    let state = "ready";

    // ===== æç”» =====
    function draw() {
      ctx.clearRect(0, 0, cv.width, cv.height);

      // åœ°é¢
      ctx.fillStyle = "#7dd87d";
      ctx.fillRect(0, GROUND_Y, cv.width, cv.height - GROUND_Y);

      // æ°´
      ctx.fillStyle = "#5bc0eb";
      ctx.fillRect(SEA_X, WATER_SURFACE, cv.width - SEA_X, cv.height);

      // ã‚«ãƒ¯ã‚¦ã‚½
      ctx.fillStyle = "#8b5a2b";
      ctx.beginPath();
      ctx.arc(otter.x, otter.y, 18, 0, Math.PI * 2);
      ctx.fill();
    }

    // ===== æ›´æ–° =====
    function update() {
      if (state === "playing") {
        otter.vx += 0.02;
        otter.x += otter.vx;
        otter.y += slope;

        if (otter.y > GROUND_Y - 18) {
          otter.y = GROUND_Y - 18;
        }
      }
    }

    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }

    // ===== ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ =====
    document.getElementById("startBtn").addEventListener("click", () => {
      if (state === "ready") {
        state = "playing";
        otter.x = 150;
        otter.y = 100;
        otter.vx = 0;
      }
    });

    // ===== é–‹å§‹ =====
    draw();
    loop();
  </script>

</body>
</html>
